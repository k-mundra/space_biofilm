## Space Biofilms: Predicting Bacterium-Material Interaction Dynamics in Microgravity Using Sequential Experimental Data

Scientific Machine Learning Course Project (CSE 8803-SML)

Ankit Bansal, Aarushi Biswas, Aarushi Gajri, Kashvi Mundra


## Overview

<p>
  Biofilm growth poses significant risks to astronaut health, life-support systems, and spacecraft materials during long-duration missions. This creates an imperative to study their growth parameters; however, experimental characterization of biofilm behavior in microgravity remains costly and limited, restricting the ability to evaluate microbial risk in spaceflight environments.
</p>

<p>
  To mitigate the challenge of data availability, we develop a multimodal scientific machine learning framework that predicts biofilm growth on engineering surfaces in microgravity by leveraging Earth-based biofilm measurements, along with available spaceflight observations. Our approach integrates confocal microscopy–derived morphological features, material surface descriptors, and optional gene-expression profiles into a convolutional Long Short-Term Memory (ConvLSTM) architecture capable of modeling biofilm structure and coverage. Domain insights from diffusion–reaction transport physics are incorporated into the design of feature representations and learning objectives.
</p>

<p>
  Using this framework, we evaluate whether growth characteristics observed on Earth can be translated to microgravity conditions and estimate biofilm coverage on materials not experimentally tested in space. Time series prediction using ConvLSTM showed more than 90% accuracy in predicting growth patterns. Notably, a ground-only Random Forest model explained 99% of variance in terrestrial biofilm coverage and retained 96% explanatory power when predicting flight biofilm coverage despite never being exposed to microgravity data during training (R&sup2;<sub>ground</sub> = 0.99, R&sup2;<sub>flight</sub> = 0.96). These findings demonstrate the potential of scientific machine learning to guide material selection and microbial risk mitigation for future space missions.
</p>


## Code Breakdown
In this repository, there are six folders. Each of the folders are described below. 

Archive: This folder has archival code that was not used for our final submission. 

Baseline-ConvLSTM_Physics: This folder contains the physics-informed laplacian kernels that demonstrate a slight increase in accuracy.

Baseline-Synthetic_Code: This folder contains the synthetically generated data and the ConvLSTM model that trains it. This is to demonstrate our morphological time-series prediction proof-of-concept. 

Datasets: This folder contains the original NASA datasets that we used in this project. They are:
- OSD-554
    - rna-seq data
- OSD-627
    - microscopy image data

Figures: This folder contains figures generated by the models.

Final_Model: This folder contains the final Random Forest model that uses the NASA datasets to predict percent biofilm coverage spatiotemporally.


There are three main models represented in this project: Synthetic Data ConvLSTM, Physics ConvLSTM, and Main Data Random Forest. Each of these three are described below. 

## Synthetic Data ConvLSTM (housed in Baseline-Synthetic_Code)
This code is a based on diffusion equation solving to create biofilm growth data.

inputs
-- timesteps=50 (control how many images per run are saved.)
-- n_runs = 10 (controls how many trajectories are saved.)

outputs
-- 144X144 pixel image of the stochastic biofilm growth, timesteps number of images for each trajectory. In total n_runs trajectories.

everything is saved in the bacteria_growth folder.

- bacteria_growth
    - run_000
        - frame_000.png
        - frame_001.png
        - ...
    - run_001
    - ...

## Physics ConvLSTM (housed in Baseline-ConvLSTM_Physics)

The LSTM model introduces background noise, which can reduce the overall loss but becomes detrimental for long-term predictions. To address this issue, the model incorporates a diffusion-based term and a total directional gradient term into the loss function, ensuring that such noise is not favored during training. The diffusion-based loss is computed using a discrete Laplacian kernel [0 1 0; 1 -4 1; 0 1 0], which measures the curvature at each pixel. This curvature is then added to the loss, penalizing regions of high curvature and enforcing smoothness across the field. This smoothing effect reflects the outward, diffusive growth of biofilms, capturing essential physical behavior.

Additionally, a total directional gradient loss is included to suppress artifacts that may arise from background noise such as checkerboard patterns. By penalizing abrupt variations in pixel intensity, this term further promotes a smooth and physically realistic background.

## Main Data ConvLSTM (housed in Final_Model)

This file reads the ground and flight data to create a ground-> flight regression model based on the percent coverage of the biofilm. It predicts trajectories per base material for the first two days to predict what the third day's percent coverage of the biofilm looks like.

## Conclusions

xyz

## Acknowledgements

Thank you to Dr. Pamela Flores (CU Boulder), Dr. Luis Zea (CU Boulder) and NASA for listing these datasets as open-access, as well as guiding us through questions we had regarding the datasets.


## Appendix
Previous models used in the Archive folder and their documentation is below. 


## Baseline-convLSTM
this is directly downloaded from the reference model. No changes are made. However when the code was tested, it was not producing results shown online.

## Baseline-Conv_LSTM_with_biofilm.
It is one of the most updated, model right now. It is made to work with synthetic data generated from "synthetic data code". Output of the code is copied into the folder "bacteria_growth".

Inputs
-- bacteria_growth

Outputs
-- trained_model.h5
-- comparison plots in the "results" folder.


## Background-physics-Conv_LSTM_with_biofilm
The LSTM model introduces background noise, which can reduce the overall loss but becomes detrimental for long-term predictions. To address this issue, the model incorporates a diffusion-based term and a total directional gradient term into the loss function, ensuring that such noise is not favored during training. The diffusion-based loss is computed using a discrete Laplacian kernel [0 1 0; 1 -4 1; 0 1 0], which measures the curvature at each pixel. This curvature is then added to the loss, penalizing regions of high curvature and enforcing smoothness across the field. This smoothing effect reflects the outward, diffusive growth of biofilms, capturing essential physical behavior.

Additionally, a total directional gradient loss is included to suppress artifacts that may arise from background noise such as checkerboard patterns. By penalizing abrupt variations in pixel intensity, this term further promotes a smooth and physically realistic background.

## Data 
If you want to build growth trajectories for modeling:

Parse s_OSD-627.txt to get:

Spaceflight (Ground vs Space Flight)

Material

Time (1, 2, 3 days)

Group by (Spaceflight, Material, Medium)

Inside each group, sort by Time and then link the corresponding sample IDs:

e.g. (Space Flight, SS316, LB+KNO₃) → {1.*, 7.*, 13.*}

Then you have clean trajectories like:

“Spaceflight SS316, LB+KNO₃: Day 1 → Day 2 → Day 3 = {1., 7., 13.*}”



## pngs_max
multilayer .tif files are converted to .png files by taking the maximum intensity of each pixel from the layers.

## pngs_mean
multilayer .tif files are converted to .png files by taking the average intensity of each pixel across layers.


## pngs_max_split
images split into 256X256 from pngs_max

## pngs_mean_split
images split into 256X256 from pngs_mean
